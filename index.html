<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;ruby&quot;,&quot;python&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.jpg" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="ruby">ruby</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='#'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to the City of Cape Town Data Portal API! You can use our API to access our OpenData API endpoints, which can get information on various projects, city service staticts, environmental and other contributed data in our database.</p>

<p>We have language bindings in Shell, Ruby, and Python! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>

<p>Please note, this API is fictitiosntnth API. It has only been set up for the sake of a school project. We are in no way affiliated with the City of Cape Town.</p>

<h1 id="authentication">Authentication</h1>

<blockquote>
<p>To authorize, use this code:</p>

<p>Note, this authentication is only required for write access, read access is open to the public.</p>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'cct-open-data'</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">cct</span><span class="o">-</span><span class="nb">open</span><span class="o">-</span><span class="n">data</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'Your-API-key'</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">cct</span><span class="o">-</span><span class="nb">open</span><span class="o">-</span><span class="n">data</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">cct</span><span class="o">-</span><span class="nb">open</span><span class="o">-</span><span class="n">data</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'Your-API-key'</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">"http://web1.capetown.gov.za/web1/opendataportal/api"</span>
  -H <span class="s2">"Authorization: Your-API-key"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">cct</span><span class="o">-</span><span class="nx">open</span><span class="o">-</span><span class="nx">data</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'cct-open-data'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">cct</span><span class="o">-</span><span class="nx">open</span><span class="o">-</span><span class="nx">data</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'Your-API-key'</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>Make sure to replace <code class="prettyprint">Your-API-key</code> with your API key.</p>
</blockquote>

<p>cct-open-data uses API keys to allow access to the API. You can register a new cct-open-data API key at our <a href="http://web1.capetown.gov.za/web1/opendataportal/developers">developer portal</a>.</p>

<p>cct-open-data expects for the API key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code class="prettyprint">Authorization: Your-API-key</code></p>

<aside class="notice">
You must replace <code>Your-API-key</code> with your personal API key.
</aside>

<h1 id="available-data-sets">Available Data Sets</h1>

<h2 id="get-all-data-sets">Get All Data Sets</h2>

<blockquote>
<p>Note: authorization is only required to view incomplete and not yet published data sets.</p>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'cct-open-data'</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">cct</span><span class="o">-</span><span class="nb">open</span><span class="o">-</span><span class="n">data</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'Your-API-key'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">data</span><span class="o">-</span><span class="n">set</span><span class="o">-</span><span class="n">list</span><span class="p">.</span><span class="nf">get</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">cct</span><span class="o">-</span><span class="nb">open</span><span class="o">-</span><span class="n">data</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">cct</span><span class="o">-</span><span class="nb">open</span><span class="o">-</span><span class="n">data</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'Your-API-key'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">data</span><span class="o">-</span><span class="nb">set</span><span class="o">-</span><span class="nb">list</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://web1.capetown.gov.za/web1/opendataportal/api/data-set-list"</span>
  -H <span class="s2">"Authorization: Your-API-key"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">cct</span><span class="o">-</span><span class="nx">open</span><span class="o">-</span><span class="nx">data</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'cct-open-data'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">cct</span><span class="o">-</span><span class="nx">open</span><span class="o">-</span><span class="nx">data</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'Your-API-key'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">data</span><span class="o">-</span><span class="nx">set</span><span class="o">-</span><span class="nx">list</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">data</span><span class="o">-</span><span class="nx">set</span><span class="o">-</span><span class="nx">list</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Agricultural Land 2017"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Information on agricultural land."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="mi">2017-02-05</span><span class="p">,</span><span class="w">
    </span><span class="s2">"num-columns"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="s2">"num-rows"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cemetries"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Information on cemetries throught the city."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="mi">2017-01-11</span><span class="p">,</span><span class="w">
    </span><span class="s2">"num-columns"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="s2">"num-rows"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all Data Sets.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://web1.capetown.gov.za/web1/opendataportal/api/data-sets</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>show_headings</td>
<td>false</td>
<td>If set to true, the result will also include table headings.</td>
</tr>
<tr>
<td>only_approved</td>
<td>true</td>
<td>If set to false, the result will only include data sets that have already been approved.</td>
</tr>
</tbody></table>

<aside class="success">
Remember — if you have any issues, send an email to help@cct-opendata.gov.za!
</aside>

<h2 id="search-for-data-sets">Search for Data Sets</h2>

<blockquote>
<p>Note: authorization is only required to view incomplete and not yet published data sets.</p>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'cct-open-data'</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">cct</span><span class="o">-</span><span class="nb">open</span><span class="o">-</span><span class="n">data</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'Your-API-key'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">data</span><span class="o">-</span><span class="n">set</span><span class="o">-</span><span class="n">list</span><span class="p">.</span><span class="nf">search</span><span class="p">(</span><span class="s1">'your-search-string'</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">cct</span><span class="o">-</span><span class="nb">open</span><span class="o">-</span><span class="n">data</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">cct</span><span class="o">-</span><span class="nb">open</span><span class="o">-</span><span class="n">data</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'Your-API-key'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">data</span><span class="o">-</span><span class="nb">set</span><span class="o">-</span><span class="nb">list</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">'your-search-string'</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://web1.capetown.gov.za/web1/opendataportal/api/data-set-list"</span>
  -H <span class="s2">"Authorization: Your-API-key"</span>
  -H <span class="s2">"Search: your-search-string"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">cct</span><span class="o">-</span><span class="nx">open</span><span class="o">-</span><span class="nx">data</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'cct-open-data'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">cct</span><span class="o">-</span><span class="nx">open</span><span class="o">-</span><span class="nx">data</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'Your-API-key'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">filtered</span><span class="o">-</span><span class="nx">data</span><span class="o">-</span><span class="nx">sets</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">data</span><span class="o">-</span><span class="nx">set</span><span class="o">-</span><span class="nx">list</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="s1">'your-search-string'</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Agricultural Land 2017"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Information on agricultural land."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="mi">2017-02-05</span><span class="p">,</span><span class="w">
    </span><span class="s2">"num-columns"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="s2">"num-rows"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cemetries"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Information on cemetries throught the city."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="mi">2017-01-11</span><span class="p">,</span><span class="w">
    </span><span class="s2">"num-columns"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="s2">"num-rows"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://web1.capetown.gov.za/web1/opendataportal/api/publish</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>search_description</td>
<td>false</td>
<td>If set to true, the search will also search in the item description.-</td>
</tr>
<tr>
<td>show_headings</td>
<td>false</td>
<td>If set to true, the result will also include table headings.</td>
</tr>
<tr>
<td>only_approved</td>
<td>true</td>
<td>If set to false, the result will only include data sets that have already been approved.</td>
</tr>
</tbody></table>

<aside class="success">
Remember — if you have any issues, send an email to help@cct-opendata.gov.za!
</aside>

<h2 id="get-a-specific-data-set">Get a Specific Data Set</h2>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'cct-open-data'</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">cct</span><span class="o">-</span><span class="nb">open</span><span class="o">-</span><span class="n">data</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'Your-API-key'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">data</span><span class="o">-</span><span class="n">set</span><span class="o">-</span><span class="n">list</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">cct</span><span class="o">-</span><span class="nb">open</span><span class="o">-</span><span class="n">data</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">cct</span><span class="o">-</span><span class="nb">open</span><span class="o">-</span><span class="n">data</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'Your-API-key'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">data</span><span class="o">-</span><span class="nb">set</span><span class="o">-</span><span class="nb">list</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://web1.capetown.gov.za/web1/opendataportal/api/data-set/2"</span>
  -H <span class="s2">"Authorization: Your-API-key"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">cct</span><span class="o">-</span><span class="nx">open</span><span class="o">-</span><span class="nx">data</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'cct-open-data'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">cct</span><span class="o">-</span><span class="nx">open</span><span class="o">-</span><span class="nx">data</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'Your-API-key'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">max</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">data</span><span class="o">-</span><span class="nx">set</span><span class="o">-</span><span class="nx">list</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cemetries"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Information on cemetries throught the city."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="mi">2017-01-11</span><span class="p">,</span><span class="w">
  </span><span class="s2">"num-columns"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="s2">"num-rows"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"column-headings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"Heading1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"min"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s2">"max"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">},</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"double"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Heading2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"min"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s2">"max"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">},</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"double"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"Heading3"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"min"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s2">"max"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">},</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"double"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"rows"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Heading1"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;value&gt;</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Heading2"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;value&gt;</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Heading3"</span><span class="p">:</span><span class="w"> </span><span class="err">&lt;value&gt;</span><span class="p">,</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a specific Data Set.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://web1.capetown.gov.za/web1/opendataportal/kittens/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the DataSet to retrieve.</td>
</tr>
</tbody></table>

<h1 id="publish-data">Publish Data</h1>

<h2 id="get-all-data-sets">Get All Data Sets</h2>

<blockquote>
<p>Note: Only include the ID if you want to update existing data. Otherwise an ID will be automatically generated.</p>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'cct-open-data'</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">cct</span><span class="o">-</span><span class="nb">open</span><span class="o">-</span><span class="n">data</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'Your-API-key'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">data</span><span class="o">-</span><span class="n">set</span><span class="o">-</span><span class="n">list</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">id</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">cct</span><span class="o">-</span><span class="nb">open</span><span class="o">-</span><span class="n">data</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">cct</span><span class="o">-</span><span class="nb">open</span><span class="o">-</span><span class="n">data</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'Your-API-key'</span><span class="p">)</span>
<span class="n">api</span><span class="o">.</span><span class="n">data</span><span class="o">-</span><span class="nb">set</span><span class="o">-</span><span class="nb">list</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">id</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://web1.capetown.gov.za/web1/opendataportal/api/data-set-list"</span>
  -H <span class="s2">"Authorization: Your-API-key"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">cct</span><span class="o">-</span><span class="nx">open</span><span class="o">-</span><span class="nx">data</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'cct-open-data'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">cct</span><span class="o">-</span><span class="nx">open</span><span class="o">-</span><span class="nx">data</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'Your-API-key'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">kittens</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">data</span><span class="o">-</span><span class="nx">set</span><span class="o">-</span><span class="nx">list</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">id</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The input data should be of the following format:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Cemetries"</span><span class="p">,</span>
<span class="s2">"description"</span><span class="p">:</span> <span class="s2">"Information on cemetries throught the city."</span><span class="p">,</span>
<span class="s2">"date"</span><span class="p">:</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">11</span><span class="p">,</span>
<span class="s2">"num-columns"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="s2">"num-rows"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
<span class="s2">"column-headings"</span><span class="p">:</span> <span class="p">[</span>
  <span class="s2">"Heading1"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"range"</span><span class="p">:</span> <span class="p">{</span><span class="s2">"min"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">"max"</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"double"</span>
  <span class="p">},</span>
  <span class="s2">"Heading2"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"range"</span><span class="p">:</span> <span class="p">{</span><span class="s2">"min"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">"max"</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"double"</span>
  <span class="p">},</span>
  <span class="s2">"Heading3"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"range"</span><span class="p">:</span> <span class="p">{</span><span class="s2">"min"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">"max"</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"double"</span>
  <span class="p">},</span>
  <span class="p">...</span>
<span class="p">],</span>
<span class="s2">"rows"</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"Heading1"</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">value</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s2">"Heading2"</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">value</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="s2">"Heading3"</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">value</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="p">...</span>
  <span class="p">}</span>
<span class="p">]</span>
</code></pre>
<aside class="warning">Please be careful about publishing incorrect data.</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://web1.capetown.gov.za/web1/opendataportal/api/publish</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>data</td>
<td>none</td>
<td>The data that you want to publish</td>
</tr>
<tr>
<td>ID</td>
<td>none</td>
<td>The ID of the DataSet to publish</td>
</tr>
</tbody></table>

<aside class="success">
Remember — if you have any issues, send an email to help@cct-opendata.gov.za!
</aside>

          <h1 id="errors">Errors</h1>

<aside class="notice">This error section is stored in a separate file in `includes/_errors.md`. Slate allows you to optionally separate out your docs into many files&hellip;just save them to the `includes` folder and add them to the top of your `index.md`&lsquo;s frontmatter. Files are included in the order listed.</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request sucks</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The Data-Set requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified Data-Set could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a Data-Set with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The Data-Set requested has been removed from our servers</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many Data-Sets! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="ruby">ruby</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
